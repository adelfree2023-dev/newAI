---
name: server-management
description: ูุฌููุนุฉ ุจุฑูุชููููุงุช ูุฅุฏุงุฑุฉ ุงูุณูุฑูุฑุ ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูุงูุชุนุงูู ูุน ุฃุฎุทุงุก ุงูุชุดุบูู ูู ุจูุฆุฉ ุงูุฅูุชุงุฌ.
---

# ๐๏ธ ููุงุฑุฉ ุฅุฏุงุฑุฉ ุงูุณูุฑูุฑ (Server Management Skill)

ูุฐู ุงูููุงุฑุฉ ุชูุฏู ูุถูุงู ุงุณุชูุฑุงุฑ ุงููุธุงู (Stability) ูุชุฌูุจ "ุงูุชุฎููู" ุฃุซูุงุก ุงูุชุนุงูู ูุน ุงูุณูุฑูุฑ.

## ๐ ููุซุงู ุงูุนูู (The Protocol)

### 1. ุงูุชุนุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช (PostgreSQL)
- **ุงููุงุนุฏุฉ ุงูุฐูุจูุฉ**: ูุง ุชูุฑุถ ูููุฉ ูุฑูุฑ ุฌุฏูุฏุฉ ูุจู ุงูุชุฃูุฏ ูู ุงุณู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงููุณุชุฎุฏู.
- **ุงูุชุญูู**: ุงุณุชุฎุฏู ุฏุงุฆูุงู `SELECT datname FROM pg_database;` ู `SELECT rolname FROM pg_roles;`.
- **ุงูุชุบููุฑ**: ูุชู ุชุบููุฑ ุงูุจุงุณูุฑุฏ ุนุจุฑ ููู SQL ูุคูุช ููุฑูุน ุฏุงุฎู ุงูุญุงููุฉ (Docker Container) ูุชุฌูุจ ุฃุฎุทุงุก Shell Quoting.

### 2. ุฅุฏุงุฑุฉ PM2 ู NestJS
- **ุงููููุฐ (Port)**: ูู ุจูุฆุฉ Linuxุ ุงูููุงูุฐ ุฃูู ูู 1024 ุชุชุทูุจ ุตูุงุญูุงุช Root. ุงุณุชุฎุฏู ุฏุงุฆูุงู ุงููููุฐ `3000` ุฃู ุฃุนูู ููุฎุฏูุงุช ุงูุนุงุฏูุฉ.
- **ุชุญุฏูุซ ุงูุจูุฆุฉ**: ูุง ุชุณุชุฎุฏู `pm2 restart` ูุญุฏูุ ุงุณุชุฎุฏู ุฏุงุฆูุงู `pm2 restart APP_NAME --update-env` ูุถูุงู ูุฑุงุกุฉ ุงูุชุบููุฑุงุช ูู ูููุงุช `.env`.

### 3. ุงูุตูุงุญูุงุช (Sudo)
- ุฅุฐุง ูุงุฌูุช `Permission denied` ุฃู `Not in sudoers` ูููุณุชุฎุฏู `newAI`:
  - ูุง ุชุทูุจ ูู ุงููุณุชุญุฏู ุชูููุฐ ุงูุฃูุฑ ูุฏููุงู.
  - ุงุณุชุฎุฏู ููุงุฉ SSH ูุฅุตูุงุญ ุงูุตูุงุญูุงุช (`usermod -aG sudo`) ุฃู ุชูููุฐ ุงูุฃูุฑ ูู `root`.

## ๐ ุฃูุงูุฑ ุงูุชุญูู ุงูุณุฑูุน (Health Checks)
- ุงูุชุญูู ูู ุงูุงุชุตุงู: `curl -I http://localhost:3000/health`
- ูุญุต ุณุฌูุงุช ุงูุฃุฎุทุงุก: `pm2 logs APP_NAME --lines 50 --raw`
- ูุญุต ุงูููุงูุฐ: `sudo ss -tulpn`

---
*ูุฐู ุงูููุงุฑุฉ ุชุถูู ุนุฏู ุชูุฑุงุฑ ุงูุฃุฎุทุงุก ุงูุชูููุฉ ุงูุชู ุญุฏุซุช ูู "ุงูููู ุงูุฃูู" ูุชููุฑ "ููุฏ ูุธูู" ูุณูุฑูุฑ ูุณุชูุฑ.*
